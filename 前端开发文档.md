### 撤销
目前暂定撤销只撤销笔迹，不对文字与图片等撤销。
~~将所有自己的笔迹都保存在一个栈中，撤销即pop()操作，pop()之后进行重新绘制~~

对绘制栈从上往下遍历，删除第一个自己留下的笔迹，并发送

撤销 + 笔迹hash的信息

触发重新绘制

### 重新绘制
~~绘制历史笔迹+新加入的图片+新加入的文字+新加入的笔迹~~

遍历绘制栈进行绘制

### 笔刷状态

用户笔刷状态，默认进入时是选择笔的状态
stauts= {
    1, // 选择笔的状态
    2, // 选择插入文字的状态
    3, // 选择插入图片的状态
}
在非选中笔的状态时，可以选中已经插入的文字和图片，进行位置等调整


### 插入文字功能
插入文字使用fillText(test,x,y) , 在使用前通过ctx.font(大小,字体)设置字体和大小
通过testMsg = ctx.measureText(test)获取相关信息
文字宽度 textMsg.width
文字高度 textMsg.actualBoundingBoxAscent + testMsg.actualBoundingBoxDescent
实现的方式目前考虑的是在选择插入文字之后在点击的位置插入一个透明的input的框，input失去焦点之后将input的value值返回并插入到text中
点击文字之后在他周围生成边框
拖拽之后删除原先数据并将新数据插入

### 笔迹数据
{
    userId,
    userName,
    boardId,
    type: 'handwriting' | 'test' | 'image' | 'delect'
    data: {
        ....
    },
    hash: 笔迹hash值区分某次
}

data分情况
type = 'handwriting'
data = [{
    beginX,
    beginY,
    lastX,
    lastY,
    strokeStyle,
    lineWidth
}]
ps: data由很多这样的数据类型组成的一个数组

type = 'test'
data = {
    test,
    fontWidth,
    fontFamily,
    x,
    y,
}



type = 'delect'

ps delect情况下不需要data，只需要对应的hash即可



### 历史版本信息
historyList
{
    userId,
    userName,
    date,
    boardId,
    hash, 
}

这里的hash值可以与笔迹一致，标识某次操作之后的白板，有后端进行组装之后发送